GAS LISTING /tmp/cccmqMFL.s 			page 1


   1               		.file	"main.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__ = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.stabs	"/home/monica/Documents/ADSD_Proyecto2_2013_2/PrototiposEnDesarrollo/Prototipo2_Acelerometr
   9               		.stabs	"main.c",100,0,2,.Ltext0
  10               		.text
  11               	.Ltext0:
  12               		.stabs	"gcc2_compiled.",60,0,0,0
  13               		.stabs	"int:t(0,1)=r(0,1);-32768;32767;",128,0,0,0
  14               		.stabs	"char:t(0,2)=@s8;r(0,2);0;255;",128,0,0,0
  15               		.stabs	"long int:t(0,3)=@s32;r(0,3);020000000000;017777777777;",128,0,0,0
  16               		.stabs	"unsigned int:t(0,4)=r(0,4);0;0177777;",128,0,0,0
  17               		.stabs	"long unsigned int:t(0,5)=@s32;r(0,5);0;037777777777;",128,0,0,0
  18               		.stabs	"long long int:t(0,6)=@s64;r(0,6);01000000000000000000000;0777777777777777777777;",128,0,0,
  19               		.stabs	"long long unsigned int:t(0,7)=@s64;r(0,7);0;01777777777777777777777;",128,0,0,0
  20               		.stabs	"short int:t(0,8)=r(0,8);-32768;32767;",128,0,0,0
  21               		.stabs	"short unsigned int:t(0,9)=r(0,9);0;0177777;",128,0,0,0
  22               		.stabs	"signed char:t(0,10)=@s8;r(0,10);-128;127;",128,0,0,0
  23               		.stabs	"unsigned char:t(0,11)=@s8;r(0,11);0;255;",128,0,0,0
  24               		.stabs	"float:t(0,12)=r(0,1);4;0;",128,0,0,0
  25               		.stabs	"double:t(0,13)=r(0,1);4;0;",128,0,0,0
  26               		.stabs	"long double:t(0,14)=r(0,1);4;0;",128,0,0,0
  27               		.stabs	"void:t(0,15)=(0,15)",128,0,0,0
  28               		.stabs	"/usr/lib/gcc/avr/4.5.3/../../../avr/include/avr/io.h",130,0,0,0
  29               		.stabs	"/usr/lib/gcc/avr/4.5.3/../../../avr/include/avr/sfr_defs.h",130,0,0,0
  30               		.stabs	"/usr/lib/gcc/avr/4.5.3/../../../avr/include/inttypes.h",130,0,0,0
  31               		.stabs	"/usr/lib/gcc/avr/4.5.3/include/stdint.h",130,0,0,0
  32               		.stabs	"/usr/lib/gcc/avr/4.5.3/../../../avr/include/stdint.h",130,0,0,0
  33               		.stabs	"int8_t:t(5,1)=(0,10)",128,0,121,0
  34               		.stabs	"uint8_t:t(5,2)=(0,11)",128,0,122,0
  35               		.stabs	"int16_t:t(5,3)=(0,1)",128,0,123,0
  36               		.stabs	"uint16_t:t(5,4)=(0,4)",128,0,124,0
  37               		.stabs	"int32_t:t(5,5)=(0,3)",128,0,125,0
  38               		.stabs	"uint32_t:t(5,6)=(0,5)",128,0,126,0
  39               		.stabs	"int64_t:t(5,7)=(0,6)",128,0,128,0
  40               		.stabs	"uint64_t:t(5,8)=(0,7)",128,0,129,0
  41               		.stabs	"intptr_t:t(5,9)=(5,3)",128,0,142,0
  42               		.stabs	"uintptr_t:t(5,10)=(5,4)",128,0,147,0
  43               		.stabs	"int_least8_t:t(5,11)=(5,1)",128,0,159,0
  44               		.stabs	"uint_least8_t:t(5,12)=(5,2)",128,0,164,0
  45               		.stabs	"int_least16_t:t(5,13)=(5,3)",128,0,169,0
  46               		.stabs	"uint_least16_t:t(5,14)=(5,4)",128,0,174,0
  47               		.stabs	"int_least32_t:t(5,15)=(5,5)",128,0,179,0
  48               		.stabs	"uint_least32_t:t(5,16)=(5,6)",128,0,184,0
  49               		.stabs	"int_least64_t:t(5,17)=(5,7)",128,0,192,0
  50               		.stabs	"uint_least64_t:t(5,18)=(5,8)",128,0,199,0
  51               		.stabs	"int_fast8_t:t(5,19)=(5,1)",128,0,213,0
  52               		.stabs	"uint_fast8_t:t(5,20)=(5,2)",128,0,218,0
  53               		.stabs	"int_fast16_t:t(5,21)=(5,3)",128,0,223,0
  54               		.stabs	"uint_fast16_t:t(5,22)=(5,4)",128,0,228,0
  55               		.stabs	"int_fast32_t:t(5,23)=(5,5)",128,0,233,0
  56               		.stabs	"uint_fast32_t:t(5,24)=(5,6)",128,0,238,0
  57               		.stabs	"int_fast64_t:t(5,25)=(5,7)",128,0,246,0
GAS LISTING /tmp/cccmqMFL.s 			page 2


  58               		.stabs	"uint_fast64_t:t(5,26)=(5,8)",128,0,253,0
  59               		.stabs	"intmax_t:t(5,27)=(5,7)",128,0,273,0
  60               		.stabs	"uintmax_t:t(5,28)=(5,8)",128,0,278,0
  61               		.stabn	162,0,0,0
  62               		.stabn	162,0,0,0
  63               		.stabs	"int_farptr_t:t(3,1)=(5,5)",128,0,77,0
  64               		.stabs	"uint_farptr_t:t(3,2)=(5,6)",128,0,81,0
  65               		.stabn	162,0,0,0
  66               		.stabn	162,0,0,0
  67               		.stabs	"/usr/lib/gcc/avr/4.5.3/../../../avr/include/avr/fuse.h",130,0,0,0
  68               		.stabs	"__fuse_t:t(6,1)=(6,2)=s2low:(0,11),0,8;high:(0,11),8,8;;",128,0,252,0
  69               		.stabn	162,0,0,0
  70               		.stabn	162,0,0,0
  71               		.stabs	"init_ports:F(0,15)",36,0,102,init_ports
  72               	.global	init_ports
  73               		.type	init_ports, @function
  74               	init_ports:
  75               		.stabd	46,0,0
   1:main.c        **** //-------------------------------------------------------------------------------------------------
   2:main.c        **** //Prototipo NO.2 Proyecto 2 Cohete Agua. Codigo que lee 3 se?ales analogas de 0-5v y calcula los an
   3:main.c        **** // es capaz de predecir la distancia maxima
   4:main.c        **** // Autores: Juan Felipe Martinez, Monica Tuta Farjado, Jorge Luis Mayorga
   5:main.c        **** // Universidad de los Andes
   6:main.c        **** //-------------------------------------------------------------------------------------------------
   7:main.c        **** 
   8:main.c        **** //-------------------------------------------------//
   9:main.c        **** //-----------------LIBRERIAS-----------------------//
  10:main.c        **** //------------------------------------------------//
  11:main.c        **** #include<avr/io.h>
  12:main.c        **** #include<math.h>
  13:main.c        **** #include<util/delay.h>
  14:main.c        **** #include<stdbool.h>
  15:main.c        **** //------------------------------------------------//
  16:main.c        **** 
  17:main.c        **** 
  18:main.c        **** 
  19:main.c        **** //------------------------------------------------//
  20:main.c        **** //---------------DEFINIR FUNCIONES----------------//
  21:main.c        **** //------------------------------------------------//
  22:main.c        **** #define sbi(x,y) x |= _BV(y) //Hace set al yth bit del puerto X
  23:main.c        **** #define cbi(x,y) x &= ~(_BV(y)) //Hace reset al yth bit del puerto X
  24:main.c        **** #define tbi(x,y) x ^= _BV(y) //Cambia el estado logico del yth bit del puerto X
  25:main.c        **** #define is_high(x,y) ((x & _BV(y)) == _BV(y)) //Verifica si el yth bit del puerto X es 1
  26:main.c        **** #define is_low(x,y) ((x & _BV(y)) == 0) //Verifica si el yth bit del puerto X es 0
  27:main.c        **** double initial_anglexz(int ax, int ay, int az); // Calcula el angulo xz inicial de lanzamiento
  28:main.c        **** double initial_anglexy(int ax, int ay, int az); // Calcula el angulo xy inicial de lanzamiento
  29:main.c        **** double initial_angleyz(int ax, int ay, int az); // Calcula el angulo yz inicial de lanzamiento
  30:main.c        **** double final_distance(double angle0xz,double tf);
  31:main.c        **** void time_counter(int Start,int End,int Reset,int i,int time_tmp);
  32:main.c        **** void init_ports(void);
  33:main.c        **** void select_ADC_port(int i);
  34:main.c        **** void test_ADC(int x0,int x1,int x2);
  35:main.c        **** //------------------------------------------------------//
  36:main.c        **** 
  37:main.c        **** 
  38:main.c        **** //------------------------------------------------------//
  39:main.c        **** //---------------------Main.c---------------------------//
GAS LISTING /tmp/cccmqMFL.s 			page 3


  40:main.c        **** //------------------------------------------------------//
  41:main.c        **** void main(void)
  42:main.c        **** {
  43:main.c        **** 	init_ports();
  44:main.c        **** 	unsigned char compare_value = 180;
  45:main.c        **** 	unsigned char x[3];
  46:main.c        **** 	int i=0;
  47:main.c        **** 	double angle0xy=0.0;
  48:main.c        **** 	double angle0yz=0.0;
  49:main.c        **** 	double angle0xz=0.0;
  50:main.c        **** 	double x_total=0.0;
  51:main.c        **** 	int time_tmp=0.0;
  52:main.c        **** 	int a[3];
  53:main.c        **** 	int j=0;
  54:main.c        **** 	int Start=0;
  55:main.c        **** 	int Reset=0;
  56:main.c        **** 	int End=0;
  57:main.c        **** 
  58:main.c        **** 
  59:main.c        **** 	while (1)
  60:main.c        **** 	{
  61:main.c        **** 		for(i=0;i<4;i++)
  62:main.c        **** 		{
  63:main.c        **** 			select_ADC_port(i); // Seleccionar puerto de entrada ADC
  64:main.c        **** 			a[i]=ADCH;
  65:main.c        **** 			if(ADCH > compare_value) x[i]=1; // Cargar X[i] para el tes de pines
  66:main.c        **** 			else x[i]=0;
  67:main.c        **** 		}
  68:main.c        **** 		
  69:main.c        **** 		angle0xy=initial_anglexy(a[0],a[1],a[2]);
  70:main.c        **** 		angle0xz=initial_anglexz(a[0],a[1],a[2]);
  71:main.c        **** 		angle0yz=initial_angleyz(a[0],a[1],a[2]);
  72:main.c        **** 
  73:main.c        **** 		x_total=final_distance(angle0xz,time_tmp);
  74:main.c        **** 		test_ADC(x[0],x[1],x[2]);
  75:main.c        **** 		if(angle0xz>=0.7)
  76:main.c        **** 		{
  77:main.c        **** 			sbi(PORTD,PD0); 
  78:main.c        **** 			sbi(PORTD,PD1);
  79:main.c        **** 			sbi(PORTD,PD2); 
  80:main.c        **** 			sbi(PORTD,PD3); 
  81:main.c        **** 		}
  82:main.c        **** 		else if(angle0xz>=0.1)
  83:main.c        **** 		{
  84:main.c        **** 			cbi(PORTD,PD0); 
  85:main.c        **** 			cbi(PORTD,PD1);
  86:main.c        **** 			cbi(PORTD,PD2); 
  87:main.c        **** 			cbi(PORTD,PD3); 
  88:main.c        **** 		}
  89:main.c        **** 
  90:main.c        **** 	}
  91:main.c        **** }
  92:main.c        **** //------------------------------------------------------//
  93:main.c        **** 
  94:main.c        **** 
  95:main.c        **** 
  96:main.c        **** 
GAS LISTING /tmp/cccmqMFL.s 			page 4


  97:main.c        **** 
  98:main.c        **** 
  99:main.c        **** //------------------------------------------------------//
 100:main.c        **** //-------------------Init_Ports-------------------------//
 101:main.c        **** //------------------------------------------------------//
 102:main.c        **** void init_ports(void){
  76               		.stabn	68,0,102,.LM0-.LFBB1
  77               	.LM0:
  78               	.LFBB1:
  79               	/* prologue: function */
  80               	/* frame size = 0 */
  81               	/* stack size = 0 */
  82               	.L__stack_usage = 0
 103:main.c        **** 
 104:main.c        **** 	DDRA=0x00;	//Defino Puerto A como Inputs
  83               		.stabn	68,0,104,.LM1-.LFBB1
  84               	.LM1:
  85 0000 1ABA      		out 58-32,__zero_reg__
 105:main.c        **** 	PORTA=0xff;     //Habilito los puertos de A
  86               		.stabn	68,0,105,.LM2-.LFBB1
  87               	.LM2:
  88 0002 8FEF      		ldi r24,lo8(-1)
  89 0004 8BBB      		out 59-32,r24
 106:main.c        **** 	DDRB = 0x00;    //Defino Puerto B como Inputs
  90               		.stabn	68,0,106,.LM3-.LFBB1
  91               	.LM3:
  92 0006 17BA      		out 55-32,__zero_reg__
 107:main.c        **** 	PORTB=0xff;     //Habilito los puertos de B
  93               		.stabn	68,0,107,.LM4-.LFBB1
  94               	.LM4:
  95 0008 88BB      		out 56-32,r24
 108:main.c        **** 
 109:main.c        **** 	DDRC=0xff;	//Defino Puerto C como Inputs
  96               		.stabn	68,0,109,.LM5-.LFBB1
  97               	.LM5:
  98 000a 84BB      		out 52-32,r24
 110:main.c        **** 	PORTC=0x00;     //Habilito los puertos de C
  99               		.stabn	68,0,110,.LM6-.LFBB1
 100               	.LM6:
 101 000c 15BA      		out 53-32,__zero_reg__
 111:main.c        **** 	DDRD = 0xff;    //Defino Puerto D como Inputs
 102               		.stabn	68,0,111,.LM7-.LFBB1
 103               	.LM7:
 104 000e 81BB      		out 49-32,r24
 112:main.c        **** 	PORTD=0x00;     //Habilito los puertos de D
 105               		.stabn	68,0,112,.LM8-.LFBB1
 106               	.LM8:
 107 0010 12BA      		out 50-32,__zero_reg__
 113:main.c        **** 
 114:main.c        **** 	ADCSRA = _BV(ADEN) | _BV(ADPS2) | _BV(ADPS1) | _BV(ADPS0);
 108               		.stabn	68,0,114,.LM9-.LFBB1
 109               	.LM9:
 110 0012 87E8      		ldi r24,lo8(-121)
 111 0014 86B9      		out 38-32,r24
 112               	/* epilogue start */
 115:main.c        **** 
 116:main.c        **** }
GAS LISTING /tmp/cccmqMFL.s 			page 5


 113               		.stabn	68,0,116,.LM10-.LFBB1
 114               	.LM10:
 115 0016 0895      		ret
 116               		.size	init_ports, .-init_ports
 117               	.Lscope1:
 118               		.stabs	"",36,0,0,.Lscope1-.LFBB1
 119               		.stabd	78,0,0
 120               		.stabs	"select_ADC_port:F(0,15)",36,0,127,select_ADC_port
 121               	.global	select_ADC_port
 122               		.type	select_ADC_port, @function
 123               	select_ADC_port:
 124               		.stabd	46,0,0
 117:main.c        **** //------------------------------------------------------//
 118:main.c        **** 
 119:main.c        **** 
 120:main.c        **** 
 121:main.c        **** 
 122:main.c        **** 
 123:main.c        **** 
 124:main.c        **** //------------------------------------------------------//
 125:main.c        **** //----------------Select_ADC_port-----------------------//
 126:main.c        **** //------------------------------------------------------//
 127:main.c        **** void select_ADC_port(int i){
 125               		.stabn	68,0,127,.LM11-.LFBB2
 126               	.LM11:
 127               	.LFBB2:
 128               	/* prologue: function */
 129               	/* frame size = 0 */
 130               	/* stack size = 0 */
 131               	.L__stack_usage = 0
 128:main.c        **** 	ADMUX = _BV(ADLAR) + i; // Selecciona un pin de las entradas analogas ADC[i]
 132               		.stabn	68,0,128,.LM12-.LFBB2
 133               	.LM12:
 134 0018 805E      		subi r24,lo8(-(32))
 135 001a 87B9      		out 39-32,r24
 129:main.c        **** 	ADCSRA |= _BV(ADSC); //Comienza conversion
 136               		.stabn	68,0,129,.LM13-.LFBB2
 137               	.LM13:
 138 001c 369A      		sbi 38-32,6
 139               	.L3:
 130:main.c        **** 	while (ADCSRA & _BV(ADSC) ) {}  // Esperar la conversion
 140               		.stabn	68,0,130,.LM14-.LFBB2
 141               	.LM14:
 142 001e 3699      		sbic 38-32,6
 143 0020 00C0      		rjmp .L3
 144               	/* epilogue start */
 131:main.c        **** 
 132:main.c        **** }
 145               		.stabn	68,0,132,.LM15-.LFBB2
 146               	.LM15:
 147 0022 0895      		ret
 148               		.size	select_ADC_port, .-select_ADC_port
 149               	.Lscope2:
 150               		.stabs	"",36,0,0,.Lscope2-.LFBB2
 151               		.stabd	78,0,0
 152               		.stabs	"test_ADC:F(0,15)",36,0,142,test_ADC
 153               		.stabs	"x0:P(0,1)",64,0,142,24
GAS LISTING /tmp/cccmqMFL.s 			page 6


 154               		.stabs	"x1:P(0,1)",64,0,142,22
 155               		.stabs	"x2:P(0,1)",64,0,142,20
 156               	.global	test_ADC
 157               		.type	test_ADC, @function
 158               	test_ADC:
 159               		.stabd	46,0,0
 133:main.c        **** //------------------------------------------------------//
 134:main.c        **** 
 135:main.c        **** 
 136:main.c        **** 
 137:main.c        **** 
 138:main.c        **** 
 139:main.c        **** //------------------------------------------------------//
 140:main.c        **** //----------------------Test_ADC------------------------//
 141:main.c        **** //------------------------------------------------------//
 142:main.c        **** void test_ADC(int x0,int x1,int x2){
 160               		.stabn	68,0,142,.LM16-.LFBB3
 161               	.LM16:
 162               	.LFBB3:
 163               	/* prologue: function */
 164               	/* frame size = 0 */
 165               	/* stack size = 0 */
 166               	.L__stack_usage = 0
 143:main.c        **** 	int x[3];
 144:main.c        **** 	x[0]=x0;
 145:main.c        **** 	x[1]=x1;
 146:main.c        **** 	x[2]=x2;
 147:main.c        **** 
 148:main.c        **** 	if(x[0] == 1){sbi(PORTC,PC0);}else{cbi(PORTC,PC0);}
 167               		.stabn	68,0,148,.LM17-.LFBB3
 168               	.LM17:
 169 0024 8130      		cpi r24,1
 170 0026 9105      		cpc r25,__zero_reg__
 171 0028 01F4      		brne .L6
 172               		.stabn	68,0,148,.LM18-.LFBB3
 173               	.LM18:
 174 002a A89A      		sbi 53-32,0
 175 002c 00C0      		rjmp .L7
 176               	.L6:
 177               		.stabn	68,0,148,.LM19-.LFBB3
 178               	.LM19:
 179 002e A898      		cbi 53-32,0
 180               	.L7:
 149:main.c        **** 	if(x[1] == 1){sbi(PORTC,PC1);}else{cbi(PORTC,PC1);}
 181               		.stabn	68,0,149,.LM20-.LFBB3
 182               	.LM20:
 183 0030 6130      		cpi r22,1
 184 0032 7105      		cpc r23,__zero_reg__
 185 0034 01F4      		brne .L8
 186               		.stabn	68,0,149,.LM21-.LFBB3
 187               	.LM21:
 188 0036 A99A      		sbi 53-32,1
 189 0038 00C0      		rjmp .L9
 190               	.L8:
 191               		.stabn	68,0,149,.LM22-.LFBB3
 192               	.LM22:
 193 003a A998      		cbi 53-32,1
GAS LISTING /tmp/cccmqMFL.s 			page 7


 194               	.L9:
 150:main.c        **** 	if(x[2] == 1){sbi(PORTC,PC2);}else{cbi(PORTC,PC2);}
 195               		.stabn	68,0,150,.LM23-.LFBB3
 196               	.LM23:
 197 003c 4130      		cpi r20,1
 198 003e 5105      		cpc r21,__zero_reg__
 199 0040 01F4      		brne .L10
 200               		.stabn	68,0,150,.LM24-.LFBB3
 201               	.LM24:
 202 0042 AA9A      		sbi 53-32,2
 203 0044 0895      		ret
 204               	.L10:
 205               		.stabn	68,0,150,.LM25-.LFBB3
 206               	.LM25:
 207 0046 AA98      		cbi 53-32,2
 208 0048 0895      		ret
 209               		.size	test_ADC, .-test_ADC
 210               	.Lscope3:
 211               		.stabs	"",36,0,0,.Lscope3-.LFBB3
 212               		.stabd	78,0,0
 213               		.stabs	"main:F(0,15)",36,0,41,main
 214               	.global	main
 215               		.type	main, @function
 216               	main:
 217               		.stabd	46,0,0
  42:main.c        **** {
 218               		.stabn	68,0,42,.LM26-.LFBB4
 219               	.LM26:
 220               	.LFBB4:
 221 004a BF92      		push r11
 222 004c CF92      		push r12
 223 004e DF92      		push r13
 224 0050 EF92      		push r14
 225 0052 FF92      		push r15
 226 0054 0F93      		push r16
 227 0056 1F93      		push r17
 228 0058 DF93      		push r29
 229 005a CF93      		push r28
 230 005c CDB7      		in r28,__SP_L__
 231 005e DEB7      		in r29,__SP_H__
 232 0060 2997      		sbiw r28,9
 233 0062 0FB6      		in __tmp_reg__,__SREG__
 234 0064 F894      		cli
 235 0066 DEBF      		out __SP_H__,r29
 236 0068 0FBE      		out __SREG__,__tmp_reg__
 237 006a CDBF      		out __SP_L__,r28
 238               	/* prologue: function */
 239               	/* frame size = 9 */
 240               	/* stack size = 18 */
 241               	.L__stack_usage = 18
  43:main.c        **** 	init_ports();
 242               		.stabn	68,0,43,.LM27-.LFBB4
 243               	.LM27:
 244 006c 0E94 0000 		call init_ports
  61:main.c        **** 		for(i=0;i<4;i++)
 245               		.stabn	68,0,61,.LM28-.LFBB4
 246               	.LM28:
GAS LISTING /tmp/cccmqMFL.s 			page 8


 247 0070 00E0      		ldi r16,lo8(0)
 248 0072 10E0      		ldi r17,hi8(0)
  64:main.c        **** 			a[i]=ADCH;
 249               		.stabn	68,0,64,.LM29-.LFBB4
 250               	.LM29:
 251 0074 6E01      		movw r12,r28
 252 0076 0894      		sec
 253 0078 C11C      		adc r12,__zero_reg__
 254 007a D11C      		adc r13,__zero_reg__
  65:main.c        **** 			if(ADCH > compare_value) x[i]=1; // Cargar X[i] para el tes de pines
 255               		.stabn	68,0,65,.LM30-.LFBB4
 256               	.LM30:
 257 007c BB24      		clr r11
 258 007e B394      		inc r11
 259 0080 00C0      		rjmp .L24
 260               	.L16:
  63:main.c        **** 			select_ADC_port(i); // Seleccionar puerto de entrada ADC
 261               		.stabn	68,0,63,.LM31-.LFBB4
 262               	.LM31:
 263 0082 C801      		movw r24,r16
 264 0084 0E94 0000 		call select_ADC_port
  64:main.c        **** 			a[i]=ADCH;
 265               		.stabn	68,0,64,.LM32-.LFBB4
 266               	.LM32:
 267 0088 85B1      		in r24,37-32
 268 008a F801      		movw r30,r16
 269 008c EE0F      		lsl r30
 270 008e FF1F      		rol r31
 271 0090 EC0D      		add r30,r12
 272 0092 FD1D      		adc r31,r13
 273 0094 8383      		std Z+3,r24
 274 0096 1482      		std Z+4,__zero_reg__
  65:main.c        **** 			if(ADCH > compare_value) x[i]=1; // Cargar X[i] para el tes de pines
 275               		.stabn	68,0,65,.LM33-.LFBB4
 276               	.LM33:
 277 0098 85B1      		in r24,37-32
 278 009a F601      		movw r30,r12
 279 009c E00F      		add r30,r16
 280 009e F11F      		adc r31,r17
 281 00a0 853B      		cpi r24,lo8(-75)
 282 00a2 00F0      		brlo .L14
  65:main.c        **** 			if(ADCH > compare_value) x[i]=1; // Cargar X[i] para el tes de pines
 283               		.stabn	68,0,65,.LM34-.LFBB4
 284               	.LM34:
 285 00a4 B082      		st Z,r11
 286 00a6 00C0      		rjmp .L15
 287               	.L14:
  66:main.c        **** 			else x[i]=0;
 288               		.stabn	68,0,66,.LM35-.LFBB4
 289               	.LM35:
 290 00a8 1082      		st Z,__zero_reg__
 291               	.L15:
  61:main.c        **** 		for(i=0;i<4;i++)
 292               		.stabn	68,0,61,.LM36-.LFBB4
 293               	.LM36:
 294 00aa 0F5F      		subi r16,lo8(-(1))
 295 00ac 1F4F      		sbci r17,hi8(-(1))
GAS LISTING /tmp/cccmqMFL.s 			page 9


 296 00ae 00C0      		rjmp .L24
 297               	.L26:
 298 00b0 00E0      		ldi r16,lo8(0)
 299 00b2 10E0      		ldi r17,hi8(0)
 300               	.L24:
  61:main.c        **** 		for(i=0;i<4;i++)
 301               		.stabn	68,0,61,.LM37-.LFBB4
 302               	.LM37:
 303 00b4 0430      		cpi r16,4
 304 00b6 1105      		cpc r17,__zero_reg__
 305 00b8 04F0      		brlt .L16
 306               	.LBB10:
 307               	.LBB11:
 151:main.c        **** 
 152:main.c        **** }
 153:main.c        **** //------------------------------------------------------//
 154:main.c        **** 
 155:main.c        **** //------------------------------------------------------//
 156:main.c        **** //----------------Initial_Angle_XY----------------------//
 157:main.c        **** //------------------------------------------------------//
 158:main.c        **** double initial_anglexy(int ax, int ay, int az){
 159:main.c        **** 	return atan(ax/ay);
 160:main.c        **** }
 161:main.c        **** //------------------------------------------------------//
 162:main.c        **** 
 163:main.c        **** 
 164:main.c        **** 
 165:main.c        **** //------------------------------------------------------//
 166:main.c        **** //----------------Initial_Angle_XZ----------------------//
 167:main.c        **** //------------------------------------------------------//
 168:main.c        **** double initial_anglexz(int ax, int ay, int az){
 169:main.c        **** 	return atan(ax/az);
 308               		.stabn	68,0,169,.LM38-.LFBB4
 309               	.LM38:
 310 00ba 8C81      		ldd r24,Y+4
 311 00bc 9D81      		ldd r25,Y+5
 312 00be 6885      		ldd r22,Y+8
 313 00c0 7985      		ldd r23,Y+9
 314 00c2 0E94 0000 		call __divmodhi4
 315 00c6 8827      		clr r24
 316 00c8 77FD      		sbrc r23,7
 317 00ca 8095      		com r24
 318 00cc 982F      		mov r25,r24
 319 00ce 0E94 0000 		call __floatsisf
 320 00d2 0E94 0000 		call atan
 321 00d6 7B01      		movw r14,r22
 322 00d8 8C01      		movw r16,r24
 323               	.LBE11:
 324               	.LBE10:
  74:main.c        **** 		test_ADC(x[0],x[1],x[2]);
 325               		.stabn	68,0,74,.LM39-.LFBB4
 326               	.LM39:
 327 00da 6A81      		ldd r22,Y+2
 328 00dc 4B81      		ldd r20,Y+3
 329 00de 8981      		ldd r24,Y+1
 330 00e0 90E0      		ldi r25,lo8(0)
 331 00e2 70E0      		ldi r23,lo8(0)
GAS LISTING /tmp/cccmqMFL.s 			page 10


 332 00e4 50E0      		ldi r21,lo8(0)
 333 00e6 0E94 0000 		call test_ADC
  75:main.c        **** 		if(angle0xz>=0.7)
 334               		.stabn	68,0,75,.LM40-.LFBB4
 335               	.LM40:
 336 00ea C801      		movw r24,r16
 337 00ec B701      		movw r22,r14
 338 00ee 23E3      		ldi r18,lo8(0x3f333333)
 339 00f0 33E3      		ldi r19,hi8(0x3f333333)
 340 00f2 43E3      		ldi r20,hlo8(0x3f333333)
 341 00f4 5FE3      		ldi r21,hhi8(0x3f333333)
 342 00f6 0E94 0000 		call __gesf2
 343 00fa 87FD      		sbrc r24,7
 344 00fc 00C0      		rjmp .L25
  77:main.c        **** 			sbi(PORTD,PD0); 
 345               		.stabn	68,0,77,.LM41-.LFBB4
 346               	.LM41:
 347 00fe 909A      		sbi 50-32,0
  78:main.c        **** 			sbi(PORTD,PD1);
 348               		.stabn	68,0,78,.LM42-.LFBB4
 349               	.LM42:
 350 0100 919A      		sbi 50-32,1
  79:main.c        **** 			sbi(PORTD,PD2); 
 351               		.stabn	68,0,79,.LM43-.LFBB4
 352               	.LM43:
 353 0102 929A      		sbi 50-32,2
  80:main.c        **** 			sbi(PORTD,PD3); 
 354               		.stabn	68,0,80,.LM44-.LFBB4
 355               	.LM44:
 356 0104 939A      		sbi 50-32,3
 357 0106 00C0      		rjmp .L26
 358               	.L25:
  82:main.c        **** 		else if(angle0xz>=0.1)
 359               		.stabn	68,0,82,.LM45-.LFBB4
 360               	.LM45:
 361 0108 C801      		movw r24,r16
 362 010a B701      		movw r22,r14
 363 010c 2DEC      		ldi r18,lo8(0x3dcccccd)
 364 010e 3CEC      		ldi r19,hi8(0x3dcccccd)
 365 0110 4CEC      		ldi r20,hlo8(0x3dcccccd)
 366 0112 5DE3      		ldi r21,hhi8(0x3dcccccd)
 367 0114 0E94 0000 		call __gesf2
 368 0118 87FD      		sbrc r24,7
 369 011a 00C0      		rjmp .L26
  84:main.c        **** 			cbi(PORTD,PD0); 
 370               		.stabn	68,0,84,.LM46-.LFBB4
 371               	.LM46:
 372 011c 9098      		cbi 50-32,0
  85:main.c        **** 			cbi(PORTD,PD1);
 373               		.stabn	68,0,85,.LM47-.LFBB4
 374               	.LM47:
 375 011e 9198      		cbi 50-32,1
  86:main.c        **** 			cbi(PORTD,PD2); 
 376               		.stabn	68,0,86,.LM48-.LFBB4
 377               	.LM48:
 378 0120 9298      		cbi 50-32,2
  87:main.c        **** 			cbi(PORTD,PD3); 
GAS LISTING /tmp/cccmqMFL.s 			page 11


 379               		.stabn	68,0,87,.LM49-.LFBB4
 380               	.LM49:
 381 0122 9398      		cbi 50-32,3
 382 0124 00C0      		rjmp .L26
 383               		.size	main, .-main
 384               		.stabs	"x:(0,16)=ar(0,17)=r(0,17);0;0177777;;0;2;(0,11)",128,0,45,1
 385               		.stabs	"i:r(0,1)",64,0,46,16
 386               		.stabs	"angle0xz:r(0,13)",64,0,49,14
 387               		.stabs	"a:(0,18)=ar(0,17);0;2;(0,1)",128,0,52,4
 388               		.stabn	192,0,0,.LFBB4-.LFBB4
 389               		.stabn	224,0,0,.Lscope4-.LFBB4
 390               	.Lscope4:
 391               		.stabs	"",36,0,0,.Lscope4-.LFBB4
 392               		.stabd	78,0,0
 393               		.stabs	"initial_anglexy:F(0,13)",36,0,158,initial_anglexy
 394               		.stabs	"ax:P(0,1)",64,0,158,24
 395               		.stabs	"ay:P(0,1)",64,0,158,22
 396               		.stabs	"az:P(0,1)",64,0,158,20
 397               	.global	initial_anglexy
 398               		.type	initial_anglexy, @function
 399               	initial_anglexy:
 400               		.stabd	46,0,0
 158:main.c        **** double initial_anglexy(int ax, int ay, int az){
 401               		.stabn	68,0,158,.LM50-.LFBB5
 402               	.LM50:
 403               	.LFBB5:
 404               	/* prologue: function */
 405               	/* frame size = 0 */
 406               	/* stack size = 0 */
 407               	.L__stack_usage = 0
 159:main.c        **** 	return atan(ax/ay);
 408               		.stabn	68,0,159,.LM51-.LFBB5
 409               	.LM51:
 410 0126 0E94 0000 		call __divmodhi4
 411 012a 8827      		clr r24
 412 012c 77FD      		sbrc r23,7
 413 012e 8095      		com r24
 414 0130 982F      		mov r25,r24
 415 0132 0E94 0000 		call __floatsisf
 416 0136 0E94 0000 		call atan
 417               	/* epilogue start */
 160:main.c        **** }
 418               		.stabn	68,0,160,.LM52-.LFBB5
 419               	.LM52:
 420 013a 0895      		ret
 421               		.size	initial_anglexy, .-initial_anglexy
 422               	.Lscope5:
 423               		.stabs	"",36,0,0,.Lscope5-.LFBB5
 424               		.stabd	78,0,0
 425               		.stabs	"initial_anglexz:F(0,13)",36,0,168,initial_anglexz
 426               		.stabs	"ax:P(0,1)",64,0,168,24
 427               		.stabs	"ay:P(0,1)",64,0,168,22
 428               		.stabs	"az:P(0,1)",64,0,168,22
 429               	.global	initial_anglexz
 430               		.type	initial_anglexz, @function
 431               	initial_anglexz:
 432               		.stabd	46,0,0
GAS LISTING /tmp/cccmqMFL.s 			page 12


 168:main.c        **** double initial_anglexz(int ax, int ay, int az){
 433               		.stabn	68,0,168,.LM53-.LFBB6
 434               	.LM53:
 435               	.LFBB6:
 436               	/* prologue: function */
 437               	/* frame size = 0 */
 438               	/* stack size = 0 */
 439               	.L__stack_usage = 0
 440 013c BA01      		movw r22,r20
 441               		.stabn	68,0,169,.LM54-.LFBB6
 442               	.LM54:
 443 013e 0E94 0000 		call __divmodhi4
 444 0142 8827      		clr r24
 445 0144 77FD      		sbrc r23,7
 446 0146 8095      		com r24
 447 0148 982F      		mov r25,r24
 448 014a 0E94 0000 		call __floatsisf
 449 014e 0E94 0000 		call atan
 450               	/* epilogue start */
 170:main.c        **** }
 451               		.stabn	68,0,170,.LM55-.LFBB6
 452               	.LM55:
 453 0152 0895      		ret
 454               		.size	initial_anglexz, .-initial_anglexz
 455               	.Lscope6:
 456               		.stabs	"",36,0,0,.Lscope6-.LFBB6
 457               		.stabd	78,0,0
 458               		.stabs	"initial_angleyz:F(0,13)",36,0,179,initial_angleyz
 459               		.stabs	"ax:P(0,1)",64,0,179,24
 460               		.stabs	"ay:P(0,1)",64,0,179,24
 461               		.stabs	"az:P(0,1)",64,0,179,20
 462               	.global	initial_angleyz
 463               		.type	initial_angleyz, @function
 464               	initial_angleyz:
 465               		.stabd	46,0,0
 171:main.c        **** //------------------------------------------------------//
 172:main.c        **** 
 173:main.c        **** 
 174:main.c        **** 
 175:main.c        **** 
 176:main.c        **** //------------------------------------------------------//
 177:main.c        **** //----------------Initial_Angle_YZ----------------------//
 178:main.c        **** //------------------------------------------------------//
 179:main.c        **** double initial_angleyz(int ax, int ay, int az){
 466               		.stabn	68,0,179,.LM56-.LFBB7
 467               	.LM56:
 468               	.LFBB7:
 469               	/* prologue: function */
 470               	/* frame size = 0 */
 471               	/* stack size = 0 */
 472               	.L__stack_usage = 0
 473 0154 CB01      		movw r24,r22
 180:main.c        **** 	return atan(ay/az);
 474               		.stabn	68,0,180,.LM57-.LFBB7
 475               	.LM57:
 476 0156 BA01      		movw r22,r20
 477 0158 0E94 0000 		call __divmodhi4
GAS LISTING /tmp/cccmqMFL.s 			page 13


 478 015c 8827      		clr r24
 479 015e 77FD      		sbrc r23,7
 480 0160 8095      		com r24
 481 0162 982F      		mov r25,r24
 482 0164 0E94 0000 		call __floatsisf
 483 0168 0E94 0000 		call atan
 484               	/* epilogue start */
 181:main.c        **** }
 485               		.stabn	68,0,181,.LM58-.LFBB7
 486               	.LM58:
 487 016c 0895      		ret
 488               		.size	initial_angleyz, .-initial_angleyz
 489               	.Lscope7:
 490               		.stabs	"",36,0,0,.Lscope7-.LFBB7
 491               		.stabd	78,0,0
 492               		.stabs	"initial_velocityY:F(0,13)",36,0,188,initial_velocityY
 493               		.stabs	"ax:P(0,1)",64,0,188,24
 494               		.stabs	"ay:P(0,1)",64,0,188,22
 495               		.stabs	"az:P(0,1)",64,0,188,20
 496               	.global	initial_velocityY
 497               		.type	initial_velocityY, @function
 498               	initial_velocityY:
 499               		.stabd	46,0,0
 182:main.c        **** //------------------------------------------------------//
 183:main.c        **** 
 184:main.c        **** 
 185:main.c        **** //------------------------------------------------------//
 186:main.c        **** //----------------Initial_velocityY---------------------//
 187:main.c        **** //------------------------------------------------------//
 188:main.c        **** double initial_velocityY(int ax, int ay, int az){
 500               		.stabn	68,0,188,.LM59-.LFBB8
 501               	.LM59:
 502               	.LFBB8:
 503               	/* prologue: function */
 504               	/* frame size = 0 */
 505               	/* stack size = 0 */
 506               	.L__stack_usage = 0
 189:main.c        **** 	return 0;
 190:main.c        **** }
 507               		.stabn	68,0,190,.LM60-.LFBB8
 508               	.LM60:
 509 016e 60E0      		ldi r22,lo8(0x0)
 510 0170 70E0      		ldi r23,hi8(0x0)
 511 0172 CB01      		movw r24,r22
 512               	/* epilogue start */
 513 0174 0895      		ret
 514               		.size	initial_velocityY, .-initial_velocityY
 515               	.Lscope8:
 516               		.stabs	"",36,0,0,.Lscope8-.LFBB8
 517               		.stabd	78,0,0
 518               		.stabs	"initial_velocityX:F(0,13)",36,0,198,initial_velocityX
 519               		.stabs	"ax:P(0,1)",64,0,198,24
 520               		.stabs	"ay:P(0,1)",64,0,198,22
 521               		.stabs	"az:P(0,1)",64,0,198,20
 522               	.global	initial_velocityX
 523               		.type	initial_velocityX, @function
 524               	initial_velocityX:
GAS LISTING /tmp/cccmqMFL.s 			page 14


 525               		.stabd	46,0,0
 191:main.c        **** //------------------------------------------------------//
 192:main.c        **** 
 193:main.c        **** 
 194:main.c        **** 
 195:main.c        **** //------------------------------------------------------//
 196:main.c        **** //----------------Initial_velocityX---------------------//
 197:main.c        **** //------------------------------------------------------//
 198:main.c        **** double initial_velocityX(int ax, int ay, int az){
 526               		.stabn	68,0,198,.LM61-.LFBB9
 527               	.LM61:
 528               	.LFBB9:
 529               	/* prologue: function */
 530               	/* frame size = 0 */
 531               	/* stack size = 0 */
 532               	.L__stack_usage = 0
 199:main.c        **** 	return 0;
 200:main.c        **** }
 533               		.stabn	68,0,200,.LM62-.LFBB9
 534               	.LM62:
 535 0176 60E0      		ldi r22,lo8(0x0)
 536 0178 70E0      		ldi r23,hi8(0x0)
 537 017a CB01      		movw r24,r22
 538               	/* epilogue start */
 539 017c 0895      		ret
 540               		.size	initial_velocityX, .-initial_velocityX
 541               	.Lscope9:
 542               		.stabs	"",36,0,0,.Lscope9-.LFBB9
 543               		.stabd	78,0,0
 544               		.stabs	"time_counter:F(0,15)",36,0,209,time_counter
 545               		.stabs	"Start:P(0,1)",64,0,209,24
 546               		.stabs	"End:P(0,1)",64,0,209,22
 547               		.stabs	"Reset:P(0,1)",64,0,209,20
 548               		.stabs	"i:P(0,1)",64,0,209,18
 549               		.stabs	"time_tmp:P(0,1)",64,0,209,16
 550               	.global	time_counter
 551               		.type	time_counter, @function
 552               	time_counter:
 553               		.stabd	46,0,0
 201:main.c        **** //------------------------------------------------------//
 202:main.c        **** 
 203:main.c        **** 
 204:main.c        **** 
 205:main.c        **** 
 206:main.c        **** //------------------------------------------------------//
 207:main.c        **** //---------------------Time_Counter---------------------//
 208:main.c        **** //------------------------------------------------------//
 209:main.c        **** void time_counter(int Start,int End,int Reset,int i,int time_tmp){
 554               		.stabn	68,0,209,.LM63-.LFBB10
 555               	.LM63:
 556               	.LFBB10:
 557               	/* prologue: function */
 558               	/* frame size = 0 */
 559               	/* stack size = 0 */
 560               	.L__stack_usage = 0
 561               	/* epilogue start */
 210:main.c        **** 	if(Reset==0){
GAS LISTING /tmp/cccmqMFL.s 			page 15


 211:main.c        **** 		if(Start==1){time_tmp=time_tmp+1;}
 212:main.c        **** 		else if(End==1){time_tmp=time_tmp;}
 213:main.c        **** 	else time_tmp=0;}
 214:main.c        **** 	else time_tmp=0;
 215:main.c        **** }
 562               		.stabn	68,0,215,.LM64-.LFBB10
 563               	.LM64:
 564 017e 0895      		ret
 565               		.size	time_counter, .-time_counter
 566               	.Lscope10:
 567               		.stabs	"",36,0,0,.Lscope10-.LFBB10
 568               		.stabd	78,0,0
 569               		.stabs	"final_distance:F(0,13)",36,0,223,final_distance
 570               		.stabs	"angle0xz:P(0,13)",64,0,223,22
 571               		.stabs	"tf:P(0,13)",64,0,223,18
 572               	.global	final_distance
 573               		.type	final_distance, @function
 574               	final_distance:
 575               		.stabd	46,0,0
 216:main.c        **** //------------------------------------------------------//
 217:main.c        **** 
 218:main.c        **** 
 219:main.c        **** 
 220:main.c        **** //------------------------------------------------------//
 221:main.c        **** //--------------------Final_Distance--------------------//
 222:main.c        **** //------------------------------------------------------//
 223:main.c        **** double final_distance(double angle0xz,double tf){
 576               		.stabn	68,0,223,.LM65-.LFBB11
 577               	.LM65:
 578               	.LFBB11:
 579               	/* prologue: function */
 580               	/* frame size = 0 */
 581               	/* stack size = 0 */
 582               	.L__stack_usage = 0
 224:main.c        **** 	float theta=0.7156;
 225:main.c        **** 	float t=2.544;
 226:main.c        **** 	float g=9.8;
 227:main.c        **** 	float a=-sin(2*theta)/(t*t); 
 228:main.c        **** 	float b=g;
 229:main.c        **** 	float c=(-1/4)*g*g*t*t*sin(2*theta);
 230:main.c        **** 	float r=(1/(2*a))*(-b+sqrt(b*b-4*a*c));
 231:main.c        **** 	
 232:main.c        **** 	/*if(c<-154){sbi(PORTD,PD0);}else{cbi(PORTD,PD0);}
 233:main.c        **** 	if(c>-152){sbi(PORTD,PD1);}else{cbi(PORTD,PD1);}*/
 234:main.c        **** 	
 235:main.c        **** 		
 236:main.c        **** 	return r;
 237:main.c        **** }
 583               		.stabn	68,0,237,.LM66-.LFBB11
 584               	.LM66:
 585 0180 60E0      		ldi r22,lo8(0x80000000)
 586 0182 70E0      		ldi r23,hi8(0x80000000)
 587 0184 80E0      		ldi r24,hlo8(0x80000000)
 588 0186 90E8      		ldi r25,hhi8(0x80000000)
 589               	/* epilogue start */
 590 0188 0895      		ret
 591               		.size	final_distance, .-final_distance
GAS LISTING /tmp/cccmqMFL.s 			page 16


 592               	.Lscope11:
 593               		.stabs	"",36,0,0,.Lscope11-.LFBB11
 594               		.stabd	78,0,0
 595               		.stabs	"",100,0,0,.Letext0
 596               	.Letext0:
GAS LISTING /tmp/cccmqMFL.s 			page 17


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
     /tmp/cccmqMFL.s:2      *ABS*:0000003f __SREG__
     /tmp/cccmqMFL.s:3      *ABS*:0000003e __SP_H__
     /tmp/cccmqMFL.s:4      *ABS*:0000003d __SP_L__
     /tmp/cccmqMFL.s:5      *ABS*:00000034 __CCP__
     /tmp/cccmqMFL.s:6      *ABS*:00000000 __tmp_reg__
     /tmp/cccmqMFL.s:7      *ABS*:00000001 __zero_reg__
     /tmp/cccmqMFL.s:74     .text:00000000 init_ports
     /tmp/cccmqMFL.s:123    .text:00000018 select_ADC_port
     /tmp/cccmqMFL.s:158    .text:00000024 test_ADC
     /tmp/cccmqMFL.s:216    .text:0000004a main
     /tmp/cccmqMFL.s:399    .text:00000126 initial_anglexy
     /tmp/cccmqMFL.s:431    .text:0000013c initial_anglexz
     /tmp/cccmqMFL.s:464    .text:00000154 initial_angleyz
     /tmp/cccmqMFL.s:498    .text:0000016e initial_velocityY
     /tmp/cccmqMFL.s:524    .text:00000176 initial_velocityX
     /tmp/cccmqMFL.s:552    .text:0000017e time_counter
     /tmp/cccmqMFL.s:574    .text:00000180 final_distance

UNDEFINED SYMBOLS
__divmodhi4
__floatsisf
atan
__gesf2
